10 DEFINTA-Z:DIM F$, I$, O$:CLEAR 10000,&HDFFF
15 FORI=0TO81:POKE&HE000+I,VAL("&H"+MID$("EB7E235E2356424BF5C50604298F298F298F298F298F298FF51A13FE2B2818FE2F2819FE3A3808FE5B3808C6B9180FC604180BC6BF18073E3E3718023E3FB56FF110C9C102037C02037D0203F1D60420B7C9",2*I+1,2)):NEXT:DEFUSR=&HE000
20 LET F$ = "{{ filename }}"
30 ON ERROR GOTO 9000:KILL F$
40 S=57:OPEN F$ AS #1 LEN=S
50 INPUT ":"; I$
60 IF I$="`" THEN CLOSE #1:END
70 GOSUB 100 'CALL Base64 decoder
80 GOSUB 1000'CALL SAVE
90 GOTO 50
100 'Base64 decoder(I$:encoded text, O$:output text)
110 L=LEN(I$):O$=LEFT$(USR(I$),(L \ 4)*3+(MID$(I$,L-1,1)="=")+(MID$(I$,L,1)="="))
200 RETURN
1000 'SAVE APPEND(O$:decoded text)
1010 IF LEN(O$)<S THEN 1100
1020 FIELD #1,INT(S) AS T$
1030 LSET T$=O$:PUT #1
1040 RETURN
1100 CLOSE#1
1110 S=1:OPEN F$ AS #1 LEN=S
1120 F=LOF(1)
1130 FIELD #1,1 AS T$
1140 FOR I=1 TO LEN(O$)
1150   LSET T$=MID$(O$,I,1)
1160   PUT #1,F+I
1170 NEXT I
1180 RETURN
9000 IF ERL=30 AND ERR=53 THEN RESUME 40
9100 ON ERROR GOTO 0
